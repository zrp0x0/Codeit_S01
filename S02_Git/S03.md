# Git을 이용해 협업하기

## 1. 원격 저장소 이해하기 (Remote Repository)

### 로컬 저장소의 한계 => 원격 저장소 
- 작업 중인 PC에 문제가 생기면 모든 데이터 손실
- 협업하기 위해서 복잡한 과정 필요
- 인터넷 상에서 접근 가능한 Git 저장소 필요
    - push로 업로드
    - pull로 동기화

---

## 2. 원격 저장소 활용하기

### 원격 저장소 연결
```bash
git remote add origin [URL] # 원격 저장소 연결 (기본 이름 origin: 변수 개념)
git remote -v # 현재 연결된 원격 저장소 목록 및 URL 확인
git remote remove origin # 기존 원격 저장소 연결 해제
```

### 원격 저장소 복제
```bash
git clone 깃허브주소
git clone --depth 1 --branch develop 특정 브랜치 # 특정 브랜치만 가져오고 커밋 히스토리는 생략
```

### HTTPS vs SSH (클론 방식 차이)
- 보안성은 SSH가 훨씬 좋음
- 단, 비밀키 관리를 잘해야함

---

## 3. 원격 저장소 동기화

### git push
```bash
git push origin main # main 브랜치 푸시 
git push origin feature/login # 기능 브랜치 푸시
git push --tags # 태그도 함께 푸시
```
- git push -u origin 브랜치명으로 추적 설정을 하면 이후 git push, git pull만 입력해도 알아서 됨

### git pull
```bash
git pull origin main
```
- 내부적으로 git fetch -> git merge
- merge를 진행함으로 당연히 충돌이 발생할 수 있음

### git fetch
- 실제 파일에는 영향 없이 .git의 내부 히스토리만 업데이트됨
```bash
git fetch origin
```

---

## 4. Github 협업 기능 활용하기

### Pull Request의 개념과 필요성
- 독립된 브랜치에서 작업한 내용을 검토 후 메인 브랜치에 병합하기 위한 현업 절차
- 각자 브랜치를 만들어 독립적으로 개발하고, PR 후 통합
- **코드 리뷰의 중요성**: 오류 예방, 코드 품질 햐상, 현업 시 투명한 

### Pull Request 생성과 병합 흐름
```bash
git switch -c feature/add-login
echo "로그인 기능 추가" >> login.java
git add .
git commit -m "feat: 로그인 기능 추가"
git push -u origin feature/add-login
```

### 코드 리뷰 및 Fork를 활용한 외부 기여
- 코드 리뷰는 자세하게 할 것
- 제안하는 형식 / 명령조 X
- Fork를 통해 외부 사람의 Github 저장소를 내 계정으로 복제하여 개발할 수 있도록 하는 기능
    - 1. GitHub 웹에서 저장소를 찾아 상단 [Fork] 클릭 → 내 계정 공간에 복제됨
    - 2. 내 계정의 저장소를 로컬로 클론
    - 3. 새 브랜치 생성 → 코드 수정 및 커밋
    - 4. 내 저장소로 푸시 후, 원본 저장소에 PR(Pull Request) 생성
    - 5. 원본 저장소 소유자가 리뷰하고 병합 여부 결정

---

## 5. 현업 시나리오 실습하기

### PR 템플릿 예시
```text
### 작업 개요
- 헤더 영역 추가

### 주요 변경사항
- README.md 파일에 헤더 내용 추가

### 테스트 방법
- 로컬에서 `README.md` 확인

### 참고 사항
- 없음
```

### Fork를 통한 외부 
- Fork 후 시간이 지나면 원본 저장소가 업데이트 될 수 있음
- 내 저장소를 최신 상태로 유지하려면 다음 과정을 따라야함
```bash
# 1. 원본 저장소를 upstream으로 등록
$ git remote add upstream https://github.com/codeit-bootcamp-spring/awesome-food-spots.git

# 2. 원본 저장소의 변경사항 가져오기
$ git fetch upstream

# 3. 내 main 브랜치에 병합 (또는 rebase)
$ git checkout main
$ git merge upstream/main

# 4. 내 GitHub 저장소에도 반영
$ git push origin main
```
- upstream은 관례임: 원본 저장소(내 것이 아닌)

---

## 추가 내용

### git pull vs git fetch
- git pull은 fetch + merge인데, 커밋 히스토리를 깔끔하게 관리하려면 git pull --rebase를 사용하기도 함
- merge는 두 흐름이 합쳐지는 결합의 흔적을 남기지만, rebase는 내 작업 기록을 원격 저장소의 최신 커밋 뒤로 재배치하여 한 줄로 만듦

### SSH 설정 시 주의사항
- git remote add를 할 때 https:// 형식이 아닌 git@github.com 형태여야함
